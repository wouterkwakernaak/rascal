<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Recipes/Visualization/InteractiveBoxHeight</title>

<meta name="description" content="Recipes/Visualization/InteractiveBoxHeight:  Control the height of a box with user input.">

<meta name="keywords" content="Recipes/Visualization/InteractiveBoxHeight, Rascal, meta-programming, software analysis, software transformation">
<link type="text/css" rel="stylesheet" href="/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/jquery.autocomplete.css"/>
<script type="text/javascript" src="/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/jquery.cookie.js"></script>
<script type="text/javascript" src="/jquery.jstree.js"></script>
<script type="text/javascript" src="/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/jquery.history.js"></script>
<script type="text/javascript" src="/globals.js"></script>
<script type="text/javascript" src="/prelude.js"></script>
<script type="text/javascript" src="/Recipes/course.js"></script>

</head>
<body>
<table id="container"><tr><td id="tdlogo"><a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a></td><td id="tdsearch">
<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/images/magnify.png">
    <input type="hidden" name="concept" value="Recipes/Visualization/InteractiveBoxHeight">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         </td></tr><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Recipes/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Recipes/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Recipes/Recipes.html">Recipes</a>/<a href="/Recipes/Visualization/Visualization.html">Visualization</a>/<a href="/Recipes/Visualization/InteractiveBoxHeight/InteractiveBoxHeight.html">InteractiveBoxHeight</a>
</div>

<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  Control the height of a box with user input.

</div>

	                       
                           
                           
                           
<div id="Description">
<span class="sectionHead">Description</span>  The challenge is to create a user interface that consists of
 <ul><li> A text entry field to enter numbers.</li>
<li> A box, whose height is controlled by the numer entered in the text field.</li>
</ul>
</div>

  	                       
<div id="Examples">
<span class="sectionHead">Examples</span>  Here is a solution:
 <pre class="listing">@license{
  Copyright (c) 2009-2013 CWI
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/legal/epl-v10.html
}
module demo::vis::Higher

import vis::Figure;
import vis::Render;

public bool intInput(str s){
	return /^[0-9]+$/ := s;
}

public Figure higher(){
	int H = 100;
    return vcat( [ textfield("&lt;H>", void(str s){H = toInt(s);}, intInput),
	               box(width(100), vresizable(false), vsize(num(){return H;}), fillColor("red"))
	             ], shrink(0.5), resizable(false));
}
</pre> The auxiliary function <code>intInput</code> checks that a strings consists solely of digits.
 Function <code>higher</code> can be understood as follows:
 <ul><li> A local variable <code>H</code> is used to maintain the current height.</li>
<li> It returns a vertical concatenation of two elements: a <a href="/Rascal/Libraries/Vis/Figure/Figures/textfield/textfield.html">Rascal:textfield</a> and a <a href="/Rascal/Libraries/Vis/Figure/Figures/box/box.html">Rascal:box</a>.</li>
<li> The textfield has three arguments: <ul><li> A string that is the initial value of the text field.</li>
<li> A call back function <code>void(str s){H = toInt(s);}</code> that is called when text entry is complete:      argument <code>s</code> is the text entered and the effect is to convert that text to a number and assign it to <code>H</code>.
</li>
<li> Function <code>intInput</code> that checks that only numbers are entered.</li>
<li> The box has</li>
<li> a fixed width</li>
<li> it is not vertically resizable.</li>
<li> It has a vertical size that that depends on an anonymous function <code>vsize(num(){return H;})</code> that returns the value of <code>H</code>. </li>
<li> Its color is red.</li>
</ul></li>
</ul> Rendering this figure:
 <pre class="listing">import demo::vis::Higher;
render(higher());
</pre> gives
 <br/>
<br/>

 <img class="TutorImg"  title="h1" alt="h1" src="/Recipes/Visualization/InteractiveBoxHeight/h1.png">
 <br/>
<br/>

 Unfortunately we cannot show the interaction here, so run this example from the <code>demo</code> directory and watch how the height of the box changes when you enter a new number in the text field.

</div>

  	                       
  	                       
  	                       
<a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Recipes/Visualization/InteractiveBoxHeight&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Recipes/Visualization/InteractiveBoxHeight&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Recipes"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Recipes/warnings.html"><b>Warnings</b></a>]</div>
<span class="editMenuFooter">Is this page unclear, or have you spotted an error? Please add a comment below and help us to improve it. For all other questions and remarks, visit <a href="http://ask.rascal-mpl.org">ask.rascal-mpl.org</a>. </span>
</div>
</td></tr></table>
</body>
</html>