<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Recipes/Visualization/ADT</title>

<meta name="description" content="Recipes/Visualization/ADT:  Visualize an Algebraic Datatype as a tree.">

<meta name="keywords" content="Recipes/Visualization/ADT, Rascal, meta-programming, software analysis, software transformation">
<link type="text/css" rel="stylesheet" href="/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/jquery.autocomplete.css"/>
<script type="text/javascript" src="/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/jquery.cookie.js"></script>
<script type="text/javascript" src="/jquery.jstree.js"></script>
<script type="text/javascript" src="/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/jquery.history.js"></script>
<script type="text/javascript" src="/globals.js"></script>
<script type="text/javascript" src="/prelude.js"></script>
<script type="text/javascript" src="/Recipes/course.js"></script>

</head>
<body>
<table id="container"><tr><td id="tdlogo"><a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a></td><td id="tdsearch">
<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/images/magnify.png">
    <input type="hidden" name="concept" value="Recipes/Visualization/ADT">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         </td></tr><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Recipes/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Recipes/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Recipes/Recipes.html">Recipes</a>/<a href="/Recipes/Visualization/Visualization.html">Visualization</a>/<a href="/Recipes/Visualization/ADT/ADT.html">ADT</a>
</div>

<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  Visualize an Algebraic Datatype as a tree.

</div>

	                       
                           
                           
                           
<div id="Description">
<span class="sectionHead">Description</span>  In <a href="/Recipes/Common/ColoredTrees/ColoredTrees.html">ColoredTrees</a> we have discussed the Algebraic Data Type <code>ColoredTree</code>.
 Here we show how to create a visualization for them. The global approach is:
 <ul><li> Define a function <code>visColoredTree</code> that has a ColoredTree as argument and    creates a <code>Figure</code> for it.
</li>
<li> Display the resulting figure using <a href="/Rascal/Libraries/Vis/Render/render/render.html">Rascal:render</a>.</li>
</ul>
</div>

  	                       
<div id="Examples">
<span class="sectionHead">Examples</span>  Here is our solution:
 <pre class="listing">@license{
  Copyright (c) 2009-2013 CWI
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/legal/epl-v10.html
}
module demo::vis::VisADT

import vis::Figure;
import vis::Render;

data ColoredTree = leaf(int N)
                 | red(ColoredTree left, ColoredTree right) 
                 | black(ColoredTree left, ColoredTree right)
                 | green(ColoredTree left, ColoredTree right)
                 ;

public Figure visColoredTree(leaf(int N)) = 
	box(text("&lt;N>"), gap(2), fillColor("lightyellow"));                    <img src="/images/1.png">

public Figure visColoredTree(red(ColoredTree left, ColoredTree right)) = 
	visNode("red", left, right);                                           <img src="/images/2.png">

public Figure visColoredTree(black(ColoredTree left, ColoredTree right)) = 
	visNode("black", left, right);

public Figure visColoredTree(green(ColoredTree left, ColoredTree right)) = 
	visNode("green", left, right);

public Figure visNode(str color, ColoredTree left, ColoredTree right) =     <img src="/images/3.png">
	tree(ellipse(fillColor(color)), [visColoredTree(left), visColoredTree(right)]);

public ColoredTree  rb = red(black(leaf(1), red(leaf(2),leaf(3))), green(leaf(3), leaf(4)));
</pre> <ul><li> A <code>leaf</code> is represented as its number converted to text, surrounded by a lightyellow box (<img src="/images/1.png">).</li>
<li> The figure for non-leaf nodes of a ColoredTree is generated by the auxiliary function <code>visNode</code> (<img src="/images/2.png">).</li>
<li> <code>visNode</code> represents the node itself as a <a href="/Rascal/Libraries/Vis/Figure/Figures/tree/tree.html">Rascal:tree</a> that has a colored ellipse as root and the visualization of   two ColoredTrees as children (<img src="/images/3.png">).
</li>
</ul> For the example <code>ColoredTree</code> <code>rb</code> we can set a standard (see <a href="/Rascal/Libraries/Vis/Figure/Properties/std/std.html">Rascal:std</a>) <a href="/Rascal/Libraries/Vis/Figure/Properties/size/size.html">Rascal:size</a> and standard <a href="/Rascal/Libraries/Vis/Figure/Properties/gap/gap.html">Rascal:gap</a>:
 <pre class="listing">import demo::vis::VisADT;
render(space(visColoredTree(rb), std(size(30)), std(gap(30))));
</pre> and the result is:
 <br/>
<br/>

 <img class="TutorImg"  title="a1" alt="a1" src="/Recipes/Visualization/ADT/a1.png">
 <br/>
<br/>

 Note that:
 <ul><li> We place the Figure that is produced by <code>viscoloredTree</code> in a <code>space</code> for the sole purpose that add extra proerties to it.</li>
<li> We use <code>std(size(30))</code> and <code> std(gap(30))</code> to achieve that these properties are set for all subfigures.</li>
</ul> Some further custumizations are possible. By default, the tree visualization uses <a href="/Rascal/Libraries/Vis/Figure/Properties/manhattan/manhattan.html">Rascal:manhattan</a> style. If we turn it off
 <pre class="listing">import demo::vis::VisADT;
render(space(visColoredTree(rb), std(size(30)), std(gap(30)), std(manhattan(false))));
</pre> the result is:
 <br/>
<br/>

 <img class="TutorImg"  title="a2" alt="a2" src="/Recipes/Visualization/ADT/a2.png">
 <br/>
<br/>

 It is also possible to change the <a href="/Rascal/Libraries/Vis/Figure/Properties/orientation/orientation.html">Rascal:orientation</a> of the tree and draw it, for example, from left to right:
 <pre class="listing">import demo::vis::VisADT;
render(space(visColoredTree(rb), std(size(30)), std(gap(30)), std(orientation(leftRight()))));
</pre> the result is:
 <br/>
<br/>

 <img class="TutorImg"  title="a3" alt="a3" src="/Recipes/Visualization/ADT/a3.png">

</div>

  	                       
  	                       
  	                       
<a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Recipes/Visualization/ADT&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Recipes/Visualization/ADT&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Recipes"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Recipes/warnings.html"><b>Warnings</b></a>]</div>
<span class="editMenuFooter">Is this page unclear, or have you spotted an error? Please add a comment below and help us to improve it. For all other questions and remarks, visit <a href="http://ask.rascal-mpl.org">ask.rascal-mpl.org</a>. </span>
</div>
</td></tr></table>
</body>
</html>