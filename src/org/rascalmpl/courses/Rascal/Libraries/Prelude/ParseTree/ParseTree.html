<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">

<!---- DO NOT EDIT: HTML generated by CourseCompiler ---->


<head>
<title>Rascal/Libraries/Prelude/ParseTree</title>

<meta name="description" content="Rascal/Libraries/Prelude/ParseTree:  Library functions for parse trees.">

<meta name="keywords" content="Rascal/Libraries/Prelude/ParseTree, Rascal, meta-programming, software analysis, software transformation">
<link type="text/css" rel="stylesheet" href="/prelude.css"/>
<link type="text/css" rel="stylesheet" href="/jquery.autocomplete.css"/>
<script type="text/javascript" src="/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="/jquery.colorbox-min.js"></script>
<script type="text/javascript" src="/jquery.cookie.js"></script>
<script type="text/javascript" src="/jquery.jstree.js"></script>
<script type="text/javascript" src="/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/jquery.history.js"></script>
<script type="text/javascript" src="/globals.js"></script>
<script type="text/javascript" src="/prelude.js"></script>
<script type="text/javascript" src="/Rascal/course.js"></script>

</head>
<body>
<table id="container"><tr><td id="tdlogo"><a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a></td><td id="tdsearch">
<div id="searchBox">
  <form method="GET" id="searchForm" action="/search"> 
    <img id="searchIcon" height="20" width="20" src="/images/magnify.png">
    <input type="hidden" name="concept" value="Rascal/Libraries/Prelude/ParseTree">
    <input type="text" id="searchField" name="term" autocomplete="off"><br />
    <div id="popups"></div>
  </form>
</div>
         </td></tr><tr><td id="tdnav">
<a id="navPanePlaceHolder" href="/Rascal/navigate.html" >Navigation</a>
<script type="text/javascript"> var navigationPaneSource="/Rascal/navigate.html"; </script></td><td id="tdconcept">
<div id="conceptPane">

<div id="Name">
<span class="sectionHead">Name</span> <a href="/Rascal/Rascal.html">Rascal</a>/<a href="/Rascal/Libraries/Libraries.html">Libraries</a>/<a href="/Rascal/Libraries/Prelude/Prelude.html">Prelude</a>/<a href="/Rascal/Libraries/Prelude/ParseTree/ParseTree.html">ParseTree</a>
</div>

<div id="Synopsis">
<span class="sectionHead">Synopsis</span>  Library functions for parse trees.

</div>

	                       
                           
                           
                           
<div id="Usage">
<span class="sectionHead">Usage</span>  <code>import ParseTree;</code>
 </AUTOINSERTED>

</div>

<div id="Details">
<span class="sectionHead">Details</span> <a href="/Rascal/Libraries/Prelude/ParseTree/associativity/associativity.html">associativity</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/doc/doc.html">doc</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/docs/docs.html">docs</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/implode/implode.html">implode</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/isNonTerminalType/isNonTerminalType.html">isNonTerminalType</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/link/link.html">link</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/links/links.html">links</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/loc/loc.html">loc</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/message/message.html">message</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/messages/messages.html">messages</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/parse/parse.html">parse</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/priority/priority.html">priority</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/Production/Production.html">Production</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/saveParser/saveParser.html">saveParser</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/Tree/Tree.html">Tree</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/treeAt/treeAt.html">treeAt</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/TreeSearchResult/TreeSearchResult.html">TreeSearchResult</a> &#032 <a href="/Rascal/Libraries/Prelude/ParseTree/unparse/unparse.html">unparse</a> &#032 
</div>

<div id="Description">
<span class="sectionHead">Description</span>  A <i>concrete syntax tree</i> or <a href="http://en.wikipedia.org/wiki/Parse_tree">parse tree<img src="/images/www-icon.png" with="20" height="20"></a> is an ordered, rooted tree that 
 represents the syntactic structure of a string according to some formal grammar. In Rascal parse trees, the interior nodes are labeled by rules of the grammar, while the leaf nodes are labeled by terminals (characters) of the grammar. 
 <br/>
<br/>

 <code>Tree</code> is the universal parse tree data type in Rascal and can be used to represent parse trees for any language. 
 <ul><li> <code>Tree</code> is a subtype of the type <a href="/Rascal/Expressions/Values/Node/Node.html">Node</a>.</li>
<li> All <a href="/Rascal/Declarations/SyntaxDefinition/SyntaxDefinition.html">SyntaxDefinition</a> types (non-terminals) are sub-types of <code>Tree</code></li>
<li> All <a href="/Rascal/Expressions/ConcreteSyntax/ConcreteSyntax.html">ConcreteSyntax</a> expressions produce parse trees the types of which are non-terminals</li>
<li> Trees can be annotated in various ways, see <a href="/Rascal/Concepts/IDEConstruction/IDEConstruction.html">IDEConstruction</a> features. Most importantly the <code>\loc</code> annotation always points to the source location of any (sub) parse tree.</li>
</ul> Parse trees are usually analyzed and constructed using <a href="/Rascal/Expressions/ConcreteSyntax/ConcreteSyntax.html">ConcreteSyntax</a> expressions and patterns.
 <br/>
<br/>

 <i>Advanced users</i> may want to create tools that analyze any parse tree, regardless of the <a href="/Rascal/Declarations/SyntaxDefinition/SyntaxDefinition.html">SyntaxDefinition</a> that generated it, you can manipulate them on the abstract level.
 <br/>
<br/>

 In <a href="/Rascal/Libraries/Prelude/ParseTree/Tree/Tree.html">Tree</a> is the full definition of <code>Tree</code>, <code>Production</code> and <code>Symbol</code>. A parse tree is a nested tree structure of type <code>Tree</code>. 
 <ul><li> Most internal nodes are applications (<code>appl</code>) of a <code>Production</code> to a list of children <code>Tree</code> nodes. <code>Production</code> is the abstract representation of a <a href="/Rascal/Declarations/SyntaxDefinition/SyntaxDefinition.html">SyntaxDefinition</a> rule, which consists of a definition of an alternative for a <code>Symbol</code> by a list of <code>Symbols</code>.</li>
<li> The leaves of a parse tree are always characters (<code>char</code>), which have an integer index in the UTF8 table. 
</li>
<li> Some internal nodes encode ambiguity (<code>amb</code>) by pointing to a set of  alternative <code>Tree</code> nodes.
</li>
</ul> The <code>Production</code> and <code>Symbol</code> types are an abstract notation for rules in <a href="/Rascal/Declarations/SyntaxDefinition/SyntaxDefinition.html">SyntaxDefinition</a>s, while the <code>Tree</code> type is the actual notation
 for parse trees. 
 <br/>
<br/>

 Parse trees are called parse forests when they contain <code>amb</code> nodes.
 <br/>
<br/>

 You can analyze and manipulate parse trees in three ways:
 <ul><li> Directly on the <code>Tree</code> level, just like any other <a href="/Rascal/Declarations/AlgebraicDataType/AlgebraicDataType.html">AlgebraicDataType</a></li>
<li> Using <a href="/Rascal/Expressions/ConcreteSyntax/ConcreteSyntax.html">ConcreteSyntax</a></li>
<li> Using <a href="/Rascal/Declarations/SyntaxDefinition/Action/Action.html">Action</a>s</li>
</ul> The type of a parse tree is the symbol that it's production produces, i.e. <code>appl(prod(sort("A"),[],{}),[])</code> has type <code>A</code>. Ambiguity nodes 
 Each such a non-terminal type has <code>Tree</code> as its immediate super-type.
 <br/>
<br/>

 The <code>ParseTree</code> library provides:
 <ul><li><a href="/Rascal/Libraries/Prelude/ParseTree/associativity/associativity.html">associativity</a>: Choice under associativity is flattened.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/doc/doc.html">doc</a>: Annotate a parse tree node with a documentation string.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/docs/docs.html">docs</a>: Annotate a parse tree node with documentation strings for several locations.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/implode/implode.html">implode</a>: Implode a parse tree according to a given (ADT) type.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/isNonTerminalType/isNonTerminalType.html">isNonTerminalType</a>: </li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/link/link.html">link</a>: Annotate a parse tree node with the target of a reference.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/links/links.html">links</a>: Annotate a parse tree node with multiple targets for a reference.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/loc/loc.html">loc</a>: Annotate a parse tree node with a source location.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/message/message.html">message</a>: Annotate a parse tree node with an (error) message.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/messages/messages.html">messages</a>: Annotate a parse tree node with a list of (error) messages.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/parse/parse.html">parse</a>: Parse input text (from a string or a location) and return a parse tree.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/priority/priority.html">priority</a>: Nested priority is flattened.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/Production/Production.html">Production</a>: Productions for priority and associativity.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/saveParser/saveParser.html">saveParser</a>: Save the current object parser to a file.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/Tree/Tree.html">Tree</a>: The Tree data type as produced by the parser.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/treeAt/treeAt.html">treeAt</a>: Select the innermost Tree of a given type which is enclosed by a given location.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/TreeSearchResult/TreeSearchResult.html">TreeSearchResult</a>: Tree search result type for <a href="/Rascal/Libraries/Prelude/ParseTree/treeAt/treeAt.html">treeAt</a>.</li>
<li><a href="/Rascal/Libraries/Prelude/ParseTree/unparse/unparse.html">unparse</a>: Yield the string of characters that form the leafs of the given parse tree.</li>
</ul>
</div>

  	                       
  	                       
  	                       
<div id="Pitfalls">
<span class="sectionHead">Pitfalls</span>  For historical reasons the name of the annotation is "loc" and this interferes with the Rascal keyword <code>loc</code>
 for the type of <span class="inlineError">ambiguous: Rascal:Location</span>s.
 Therefore the annotation name has to be escaped as <code>\loc</code> when it is declared or used.

</div>

  	                       
<a id="tutorAction" href="/index.html"><img id="leftIcon" height="40" width="40" src="/images/rascal-tutor-small.png"></a><div id="editMenu">[<a id="editAction" href="/edit?concept=Rascal/Libraries/Prelude/ParseTree&new=false"><b>Edit</b></a>] | 
               [<a id="newAction" href="/edit?concept=Rascal/Libraries/Prelude/ParseTree&new=true"><b>New Subconcept</b></a>] |
               [<a id="compileAction" href="/compile?name=Rascal"><b>Recompile Course</b></a>] |
               [<a id="warnAction" href="/Rascal/warnings.html"><b>Warnings</b></a>]<span class="inlineError"> 1 warning in this concept</span></div>
<span class="editMenuFooter">Is this page unclear, or have you spotted an error? Please add a comment below and help us to improve it. For all other questions and remarks, visit <a href="http://ask.rascal-mpl.org">ask.rascal-mpl.org</a>. </span>
</div>
</td></tr></table>
</body>
</html>